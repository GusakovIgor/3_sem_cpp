# Проект "Редактор изображений", аналог image magick

## Контейнеры

В моей реализации сделано немного больше, чем требовалось, с точки зрения архитектуры утилиты. Упор был сделан на работу в режиме редактора и предоставление возможностей для дальнейшего апгрейда в этом направлении.
Я реализовал утилиту, которая поддерживает набор таких объектов как контейнеры:
+ Они реализуют изображение, над которым ведётся работа.
+ Каждый контейнер в один момент времени может содержать максимум одно изображение.
+ Контейнеров может быть много. Их можно добавлять и удалять с помощью команд. У них есть имена.
+ Есть активный контейнер, для которого производятся текущие изменения изображения. Его можно поменять.

## Режим командной строки

При передаче команд через аргументы командной строки, происходит следующе:
+ В самом начале работы у пользователя есть один, созданный заранее контейнер с именем default. К нему применяются все указанные пользователем команды.
+ Перед применением фильтров нужно прописать опцию -load filename.
+ После применения всех желаемых фильтров нужно прописать опцию -save filename.
+ Названия опций для наложения фильтров получаются приписыванием знака '-' к соответствующей команде, со следующими поправками:
  - Не предполагается использование нескольких контейнеров (не существуют -add, -del, -list и -switch).
  - Также не предполагается отмена действий (не существует -cancel).
  - Нет никакого смысла в командах для редактора (не существуют -ls, -cd, -exit).

## Фичи

+ Режим работы в через флаги
+ Интерактивный режим
+ Возможность отменять команды (в интерактивном режиме)
+ Красивый, цветной вывод с именем контейнера и текущей рабочей директорией

## Возможные команды

+ Команды для работы с редактором в целом:
  - ls     - распечатать все файлы и поддиректории текущей дериктории
  - cd     - сменить текущую дерикторию
  - exit   - закончить работу в интерактивном режиме
  - clear  - очистить экран в интерактивном режиме
  - help   - вывести помощь по работе с редактором
+ Команды для работы с контейнерами:
  - load   - Загрузить картинку в активный контейнер
  - save   - Созранить картинку, хранящуюся в активном контейнере
  - add    - Добавить новый контейнер
  - del    - Удалить контейнер
  - list   - Вывести информацию о всех контейнерах и их содержимом.
  - switch - Переключиться на другой контейнер
+ Команды для работы с картинками:
  - Негатив
  - Замена одного RGB-цвета на другой 
  - Применение фильтра "улучшения чёткости"
  - Применение размытия Гаусса
  - Фильтр сделать серым
  - Фильтр выделения границ
  - Снижение шумов
  - Виньетка (с настройкой размера виньетки и размера затемнения)
  - Обрезать файл по заданному пользователем прямоугольнику
  - Сжать картинку (была a на b, стала a1 на b1)

## Пример работы фильтров

+ В директории Test расположен файл test_script.txt. Это своего рода скрипт, который обрабатывает 3 тестовые фотографии всеми поддерживаемыми командами обработки.
+ Результат для каждой команды складывается в соответствующую поддиректориию Test.

## Использование

+ Компилировать программу можно следующим образом:
  - cmake . -B build && cmake --build build/

+ А запускать в интерактивном режиме так:
  - ./build/Main/Main

+ Или с опциями:
  - ./build/Main/Main -load INPUT_FILE \[OPTION\]... -save OUTPUT_FILE

+ Запустить "скрипт" можно следующим способом:
  - cat Test/test_script.txt | ./build/Main/Main